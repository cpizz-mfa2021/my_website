---
title: "Examining the GDP of USA, India & Germany"
output: html_document
---

In this analysis we will examine the different components of GDP by country! I will show you which libraries and code we need to learn here.




library(tidyquant)

UN_GDP_data  &lt;-  read_excel(here::here(&quot;data&quot;, &quot;Download-GDPconstant-USD-countries.xls&quot;), # Excel filename
                sheet=&quot;Download-GDPconstant-USD-countr&quot;, # Sheet name
                skip=2) # Number of rows to skip

tidy_GDP_data  &lt;- UN_GDP_data %&gt;%
  pivot_longer(cols = 4:51, names_to = &quot;year&quot;, values_to = &quot;Expenditure&quot;) %&gt;%mutate(Expenditure = Expenditure/(10^9))
  

clean_GDP_Data &lt;- tidy_GDP_data%&gt;%
  mutate(IndicatorName = case_when(
      IndicatorName == &quot;Final consumption expenditure&quot; ~ &quot;Total Consumption&quot;, 
      IndicatorName == &quot;Household consumption expenditure (including Non-profit institutions serving households)&quot; ~ &quot;Household Consumption&quot;, 
      IndicatorName == &quot;General government final consumption expenditure&quot; ~ &quot;Gov Consumption&quot;, 
      IndicatorName == &quot;Gross capital formation&quot; ~ &quot;Gross Capital Formation&quot;,   
      IndicatorName == &quot;Gross fixed capital formation (including Acquisitions less disposals of valuables)&quot; ~ &quot;Gross Capital&quot;, 
      IndicatorName == &quot;Exports of goods and services&quot; ~ &quot;Exports&quot;, 
      IndicatorName == &quot;Imports of goods and services&quot; ~ &quot;Imports&quot;, 
      IndicatorName == &quot;Gross Domestic Product (GDP)&quot; ~ &quot;GDP&quot;, 
      IndicatorName == &quot;Agriculture, hunting, forestry, fishing (ISIC A-B)&quot; ~ &quot;Ag/Hunt/Forest/Fish&quot;, 
      IndicatorName == &quot;Mining, Manufacturing, Utilities (ISIC C-E)&quot; ~ &quot;Min/Manu/Utility&quot;,
      IndicatorName == &quot;Manufacturing (ISIC D)&quot; ~ &quot;Manufacturing&quot;,
      IndicatorName == &quot;Construction (ISIC F)&quot; ~ &quot;Construction&quot;,
      IndicatorName == &quot;Wholesale, retail trade, restaurants and hotels (ISIC G-H)&quot; ~ &quot;Wholesale/Retail/Hospitality&quot;,
      IndicatorName == &quot;Transport, storage and communication (ISIC I)&quot; ~ &quot;Transport/Comm/Storage&quot;,
      IndicatorName == &quot;Other Activities (ISIC J-P)&quot; ~ &quot;Other&quot;,
      IndicatorName == &quot;Total Value Added&quot; ~ &quot;Total Value Added&quot;,
      IndicatorName == &quot;Changes in inventories&quot; ~ &quot;Changes in inventories&quot;))

clean_GDP_Data</code></pre>
<pre><code>## # A tibble: 176,880 x 5
##    CountryID Country     IndicatorName     year  Expenditure
##        &lt;dbl&gt; &lt;chr&gt;       &lt;chr&gt;             &lt;chr&gt;       &lt;dbl&gt;
##  1         4 Afghanistan Total Consumption 1970         5.56
##  2         4 Afghanistan Total Consumption 1971         5.33
##  3         4 Afghanistan Total Consumption 1972         5.20
##  4         4 Afghanistan Total Consumption 1973         5.75
##  5         4 Afghanistan Total Consumption 1974         6.15
##  6         4 Afghanistan Total Consumption 1975         6.32
##  7         4 Afghanistan Total Consumption 1976         6.37
##  8         4 Afghanistan Total Consumption 1977         6.90
##  9         4 Afghanistan Total Consumption 1978         7.09
## 10         4 Afghanistan Total Consumption 1979         6.92
## # ... with 176,870 more rows</code></pre>
<pre class="r"><code># Let us compare GDP components for these 3 countries
country_list &lt;- c(&quot;United States&quot;,&quot;India&quot;, &quot;Germany&quot;)

US_India_Germany_GDP &lt;- clean_GDP_Data%&gt;%
  group_by(year)%&gt;%
  select(Country, IndicatorName, year, Expenditure)%&gt;%
  filter(Country %in% c(&quot;United States&quot;,&quot;India&quot;,&quot;Germany&quot;))%&gt;%
  filter(IndicatorName %in% c(&quot;Gross Capital Formation&quot;, &quot;Exports&quot;,&quot;Gov Consumption&quot;, &quot;Household Consumption&quot;, &quot;Imports&quot; ))


ggplot(US_India_Germany_GDP, aes(year, Expenditure, colour = IndicatorName, group = IndicatorName)) + geom_line() + labs (title = &quot;GDP components over time&quot;, subtitle = &quot;In constant 2010 USD&quot;, y = &quot;Billions US$&quot;, x = &quot;&quot;) + theme_bw(base_size = 10) + scale_x_discrete(breaks = c(1970, 1980, 1990, 2000, 2010)) + facet_wrap(~Country) + guides(color=guide_legend(&quot;Components of GDP&quot;)) + theme(axis.text.x = element_text(size = 6))</code></pre>
<p><img src="index_files/figure-html/unnamed-chunk-1-1.png" width="672" /></p>

It is evident that consumption is much higher in the United States compared to Germany and India. Their GDP is quite higher overall! 